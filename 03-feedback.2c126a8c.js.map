{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAGA,MAAMC,EAAOC,SAASC,cAAc,kBAE9BC,EAAoBC,MAAMC,KAAKL,GAErC,GAAoD,OAAhDM,aAAaC,QAAQ,uBAAiC,CACxD,IAAIC,EAAWC,KAAKC,MAAMJ,aAAa,wBAEvCH,EAAkBQ,SAAQ,SAAUC,GAC9BJ,EAASI,EAAGC,OAA8B,IAArBL,EAASI,EAAGC,QACnCD,EAAGE,MAAQN,EAASI,EAAGC,M,IAK7B,IAAIE,EAAc,GAElBf,EAAKgB,iBACH,QACAC,EAAAnB,GAAEoB,UAAS,KACTf,EAAkBQ,SAAQ,SAAUC,GACjB,KAAbA,EAAGE,QACLC,EAAYH,EAAGC,MAAQD,EAAGE,MAC1BR,aAAaa,QACX,sBACAV,KAAKW,UAAUL,I,GAGnB,GACD,MAGLf,EAAKgB,iBAAiB,UAAUK,IAC9BA,EAAEC,iBAC0C,OAAxChB,aAAa,wBACfiB,QAAQC,IAAIf,KAAKC,MAAMJ,aAAa,yBAGtCH,EAAkBQ,SAAQ,SAAUC,GACjB,KAAbA,EAAGE,QACLF,EAAGE,MAAQ,G,IAIfC,EAAc,GAEdT,aAAamB,WAAW,sBAAsB","sources":["src/js/03-feedback.js"],"sourcesContent":["'use strict';\nimport _ from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\n\nconst formElementsArray = Array.from(form);\n\nif (localStorage.getItem('feedback-form-state') !== null) {\n  let tempData = JSON.parse(localStorage['feedback-form-state']);\n\n  formElementsArray.forEach(function (el) {\n    if (tempData[el.name] && tempData[el.name] != '') {\n      el.value = tempData[el.name];\n    }\n  });\n}\n\nlet dataStorage = {};\n\nform.addEventListener(\n  'input',\n  _.throttle(() => {\n    formElementsArray.forEach(function (el) {\n      if (el.value !== '') {\n        dataStorage[el.name] = el.value;\n        localStorage.setItem(\n          'feedback-form-state',\n          JSON.stringify(dataStorage)\n        );\n      }\n    });\n  }, 500)\n);\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  if (localStorage['feedback-from-state'] !== null) {\n    console.log(JSON.parse(localStorage['feedback-form-state']));\n  }\n\n  formElementsArray.forEach(function (el) {\n    if (el.value !== '') {\n      el.value = '';\n    }\n  });\n\n  dataStorage = {};\n\n  localStorage.removeItem('feedback-form-state');\n});\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$formElementsArray","Array","from","localStorage","getItem","tempData","JSON","parse","forEach","el","name","value","$945622fd0f572e60$var$dataStorage","addEventListener","$parcel$interopDefault","throttle","setItem","stringify","e","preventDefault","console","log","removeItem"],"version":3,"file":"03-feedback.2c126a8c.js.map"}